<div class="col-lg-8 col-lg-offset-2">
	<div class="panel panel-{{cusStatus == 1? 'red' : 'primary'}}">
		<div class="panel-heading">
			{{ checkBillHeader }}
	    </div>
	    <div class="panel-body">
			<table class="table" style="font-size: 20px;">
				<tr class="danger">
					<td align="right">รวมเงินทั้งสิ้น</td>
					<td align="right" style="font-weight: 800;">{{ totalPrice | number:2}}-</td>
				</tr>
				<tr class="warning">
					<td align="right">รับเงิน</td>
					<td align="right" style="font-weight: 800;">
						<span ng-show="cusStatus == 0">{{ receiveAmount | number:2}}-</span>
						<input ng-show="cusStatus == 1" dir="rtl" id="receiveAmount" name="receiveAmount" type="number" class="form-control" ng-model="receiveAmount" required>
					</td>
				</tr>
				<tr class="info" ng-if="cusStatus == 0">
					<td align="right">เงินทอน</td>
					<td align="right" style="font-weight: 800;">{{ change | number:2}}-</td>
				</tr>
			</table>
		</div>
		<div class="panel-footer"></div>
    </div>
</div>

<!-- <div>
	<button type="button" ng-click="mayfender()">click to test</button>
</div> -->

	
<div class="col-lg-12">	
	<div class="table-responsive">	
		<table class="table table-striped table-hover">
			<thead>
				<tr>
					<th>#</th>
					<th>{{'sale_detail.th_name' | translate}}</th>
					<th>{{'sale_detail.th_type' | translate}}</th>
					<th>{{'sale_detail.th_amount' | translate}}</th>
					<th>{{'sale_detail.th_price' | translate}}</th>
					<th>{{'sale_detail.th_price_sum' | translate}}</th>
					<th>{{'sale_detail.th_status' | translate}}</th>
					<th></th>
				</tr>
			</thead>
			<tbody>
				<tr ng-repeat="or in orders">
					<td class="comm-vert-align-center">{{ $index + 1 }}</td>
					<td class="comm-vert-align-center" ng-class="{'comm-line-through': or.isCancel}">
						{{ or.menu.name}}
						<ul>
							<li ng-repeat="ors in or.subMenus" ng-class="{'comm-line-through': ors.isCancel}">
								{{ ors.name }}
							</li>
						</ul>
					</td>
					<td class="comm-vert-align-center">
						{{ or.menu.menuType.name }}
						<ul>
							<li ng-repeat="ors in or.subMenus">
								เสริม
							</li>
						</ul>
					</td>
					<td>
						<a href="#" ng-if="cusStatus == 0 ? false : !or.isCancel" editable-number="or.amount" e-style="width: 80px" onbeforesave="updateAmount($data, or.id, or.menu.price, or.amount, this)">{{ or.amount }}</a>
						<span ng-if="cusStatus == 0 ? true : or.isCancel">{{ or.amount }}</span>
						<ul>
							<li ng-repeat="ors in or.subMenus">
								
								<a href="#" ng-if="cusStatus == 0 ? false : or.isCancel ? false : !ors.isCancel" editable-number="ors.amount" e-style="width: 80px" onbeforesave="updateSubAmount($data, or.id, ors.id, ors.price, ors.amount, this)">{{ ors.amount }}</a>
								<span ng-if="cusStatus == 0 ? true : or.isCancel ? true : ors.isCancel">{{ ors.amount == null ? '-' : ors.amount }}</span>
								
							</li>
						</ul>
					</td>
					<td class="comm-vert-align-center">
						{{ or.isCancel == true ? 0 : or.menu.price | number:2 }}
						<ul>
							<li ng-repeat="ors in or.subMenus">
								{{ or.isCancel == true ? 0 : ors.isCancel == true ? 0 : ors.price | number:2 }}
							</li>
						</ul>
					</td>
					<td class="comm-vert-align-center">
						{{ or.isCancel == true ? 0 : or.menu.price * or.amount | number:2 }}
						<ul>
							<li ng-repeat="ors in or.subMenus">
								{{ or.isCancel == true ? 0 : ors.isCancel == true ? 0 : ors.price * (ors.amount || 1) | number:2 }}
							</li>
						</ul>
					</td>
					<td class="comm-vert-align-center">
						<i class="fa fa-circle-o-notch fa-lg" ng-if="or.status == 0 && !or.isCancel"></i>
						<i class="fa fa-refresh fa-lg fa-spin" style="color: #5CB85C;" ng-show="or.status == 1 && !or.isCancel"></i>
						<i class="fa fa-check-circle fa-lg user-status-enabled-icon" ng-if="or.status == 2 && !or.isCancel"></i>
						
						<i class="fa fa-minus-circle fa-lg user-status-disabled-icon" ng-if="or.isCancel"></i>
						&emsp;
						<i class="fa fa-home fa-lg" style="color: #EC971F;" ng-show="or.isTakeHome"></i>
					</td>
					<td class="comm-vert-align-center">
						<div ng-if="cusStatus">
							<i class="fa fa-times fa-lg user-action-icon-danger" ng-if="!or.isCancel" ng-click="cancelOrder(or.id, or.menu.name)"></i>
							<i class="fa fa-undo fa-lg" style="color: #5CB85C;cursor: pointer;" ng-if="or.isCancel" ng-click="uncancelOrder(or.id, or.menu.name)"></i>
						</div>
						
						<ul ng-if="!or.isCancel">
							<li ng-repeat="ors in or.subMenus">
								<div ng-if="cusStatus">
									<i class="fa fa-times fa-lg user-action-icon-danger" ng-if="!ors.isCancel" ng-click="cancelSubOrder(ors, or.id)"></i>
									<i class="fa fa-undo fa-lg" style="color: #5CB85C;cursor: pointer;" ng-if="ors.isCancel" ng-click="uncancelSubOrder(ors, or.id)"></i>
								</div>
							</li>
						</ul>
					</td>
				</tr>
			</tbody>
		</table>
	</div>
</div>







<!-- Modal -->
 <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
     <div class="modal-dialog">
         <div class="modal-content" style="text-align: center;">
         	<div class="modal-body">
            </div>
            <div class="modal-footer alert alert-success" style="text-align: center;">
            	<span style="font-size: 20px;">
	         		เงินทอน  : {{ changePopup | number:2 }}-
         		</span>
            </div>
         </div>
     </div>
 </div>
<!-- / Modal -->



