
<div class="row">
	<div class="col-lg-12">
		<div class="btn-group pull-left" style="margin: 3px 0 3px 0;">
		  <button type="button" class="btn btn-default btn-outline" ng-class="{'active': group.btnActive}" ng-repeat="group in groupDatas" ng-click="changeTab(group)">{{ group.name }}</button>
		</div>
	</div>

	<div class="col-lg-12">
		<div style="background-color: #356190; margin-bottom: 1px;" class="comm-rcorners-1" ng-repeat="detail in taskDetail">
			<div ng-repeat="f in fieldName" class="col-lg-3" style="font-size: 13px; padding: 0; color: #E1E2E3;">
				<div class="col-lg-5 mayfender" style="text-align: right; margin: 0; padding-right: 6px; border-top: 1px solid #234E7C; background-color: #264F7A; word-wrap: break-word;">
					<span>{{ f.columnNameAlias || f.columnName }}: </span>
				</div>
				<div class="col-lg-7" style="padding: 0; background-color: #356190; border-top: 1px solid #234E7C;"
					 ng-style="f.isNotice ? {'cursor': 'pointer'} : {}" ng-click="f.isNotice ? noticeMenu(detail[f.columnName+'_hide']) : ''">
						{{ 
						   f.dataType == 'sys_owner' ? detail[f.columnName][0].showname :
						   f.dataType == 'date' ? (detail[f.columnName] | date:format) : 
						   f.dataType == 'num' ? (detail[f.columnName] | number:2) : detail[f.columnName] 
						}}
				</div> 
			</div>
			<div style="clear: both;"></div>
		</div>
	</div>
</div>
<div class="row">
	<div class="col-lg-12">
		<div class="btn-group" style="margin: 5px 0 3px 0;">
		  <button type="button" class="btn btn-default btn-outline" ng-class="{'active': menu.btnActive}" ng-repeat="menu in tabActionMenus" ng-click="changeTabAction(menu)">{{ menu.name }}</button>
		</div>
	</div>
	<div class="col-lg-12" style="min-height: 153px;" ng-include="lastTabActionMenuActive.url"></div>
</div>
<div class="row" style="margin-top: 3px;">
	<div class="col-lg-12" ng-include="'./views/working/tab_tasklist.html'"></div>
</div>




<!-- Modal -->
 <div class="modal fade" id="myModal" tabindex="-1" role="dialog">
     <div class="modal-dialog">
         <div class="modal-content">
         	<div class="modal-header">
                <button type="button" class="close" ng-click="dismissModal()" aria-hidden="true">&times;</button>
                <h4 class="modal-title" id="myModalLabel">แบบฟอร์ม Notice</h4>
            </div>
            <div class="modal-body">            	    	
				<div class="panel panel-default" style="margin-bottom: 0; margin-top: 0;">
				  <div class="panel-body">
				  	<div class="row" ng-repeat="file in files"> 
				  		<div class="col-lg-12" style="text-align: center;">
						  	<button class="btn btn-primary col-lg-12" type="button" style="margin-bottom: 3px;" ng-click="printNotice(file.id)">{{ file.templateName }}</button>
				  		</div>
				  	</div>
				  </div>
				</div>
            </div>
           	<div class="modal-footer">
				<button type="button" class="btn btn-default" ng-click="dismissModal()">ปิด</button>
			</div>
         </div>
     </div>
 </div>
<!-- / Modal -->

<!-- Modal -->
 <div class="modal fade" id="myModal_ask" tabindex="-1" role="dialog">
     <div class="modal-dialog">
     	<form name="saveAskModalForm" ng-submit="askModalObj.askModalSave()" novalidate>
         <div class="modal-content">
         	<div class="modal-header">
                <button type="button" class="close" ng-click="dismissModalAsk()" aria-hidden="true">&times;</button>
                <h4 class="modal-title">บันทึกผลการติดตาม</h4>
            </div>
            <div class="modal-body">            	    	
				<div class="panel panel-default" style="margin-bottom: 0; margin-top: 0;">
				  <div class="panel-body">
				  
					
					  <div class="row">
						  <div class="form-group col-lg-8" ng-class="{'has-error':saveAskModalForm.resultText.$invalid}">
						    <label class="control-label">ผลการติดตาม</label>
					  		<textarea name="resultText" class="form-control" style="resize: none;" rows="3" ng-model="askModalObj.trace.resultText" required></textarea>
						  </div>
						  
						  <div class="form-group col-lg-4">
							<label class="control-label">เบอร์โทร</label>
							<input name="userNameShow" class="form-control" ng-model="askModalObj.trace.tel">
						  </div>
					  </div>
					  
					  <div class="row">
						  <div class="col-lg-6">
							<div class="form-group">
								<label class="control-label">วันนัดชำระ | ยอดนัดชำระ</label>
								<div class="input-group">
								  <input type="text" name="appointDate" class="form-control datepickerAppointDate" style="padding-left: 12px;" 
										   readonly="readonly" date-parser="dd/MM/yyyy" ng-model="askModalObj.trace.appointDate" 
										   ng-change="askModalObj.appointDateClick()">
								  <span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>
								  <input type="number" class="form-control" ng-model="askModalObj.trace.appointAmount" ng-disabled="!askModalObj.trace.appointDate" />
								</div>
							</div>
						  </div>
						  <div class="col-lg-6">					  
							<div class="form-group" ng-class="{'has-error':saveAskModalForm.nextTimeDate.$invalid}">
								<label class="control-label">วันนัด Call</label>
								<div class="input-group">
									<input type="text" name="nextTimeDate" class="form-control datepickerNextTimeDate" style="padding-left: 12px;" 
										   readonly="readonly" date-parser="dd/MM/yyyy" ng-model="askModalObj.trace.nextTimeDate">
				                    <span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>
							    </div>
							</div>
						  </div>
						  <div class="col-lg-12">
						  	<div class="form-group" ng-class="{'has-error':saveAskModalForm.actionCode.$invalid}">
								<label class="control-label">Action Code</label>
								<select name="actionCode" class="form-control" ng-model="askModalObj.trace.actionCode" ng-options="option.id as option.actMeaning + ' [' + option.actCode + ']' for option in askModalObj.init.actionCodes">
									<option value="">--เลือก Action Code--</option>
						  		</select>
							</div>
							
							<div class="form-group" ng-class="{'has-error':saveAskModalForm.resultCode.$invalid}">
								<label class="control-label">Result Code</label>
								<div class="input-group">
									<div class="input-group-btn">
								        <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">{{ askModalObj.init.resultGroup.name }} <span class="caret"></span></button>
								        <ul class="dropdown-menu">
								          <li ng-repeat="gp in askModalObj.init.resultCodeGroups"><a href="" ng-click="askModalObj.changeResultGroups(gp)">{{ gp.name }}</a></li>
								        </ul>
									</div>	
									<select name="resultCode" class="form-control" ng-model="askModalObj.trace.resultCode" ng-options="option.id as option.rstMeaning + ' [' + option.rstCode + ']' for option in askModalObj.init.resultCodes">
										<option value="">--เลือก Result Code--</option>
							  		</select>
						  		</div>
							  </div>
						  </div>
					  </div>
					
				  	
				  </div>
				</div>
            </div>
           	<div class="modal-footer">
				<button type="button" class="btn btn-default" ng-click="dismissModalAsk()">ปิด</button>
				<button type="submit" class="btn btn-primary" ng-disabled="saveAskModalForm.$invalid">บันทึก</button>
			</div>
         </div>
         </form>
     </div>
 </div>
<!-- / Modal -->
