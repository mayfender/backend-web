<style>
.editable-wrap {
    width: 100%;
}
.editable-controls {
	width: 100%;
}
</style>
<div>
	<div class="row">
		<div class="col-lg-12">
			<h1 class="page-header">Plugin</h1>
		</div>
	</div>
	
    <div class="row">
        <div class="col-lg-12">
            <div class="panel panel-primary">
                <div class="panel-heading">
                    <i class="fa fa-list-alt  fa-fw"></i> แสดงข้อมูลการนำเข้า
					<button type="button" class="btn btn-info btn-circle btn-lg" style="position: absolute; right: 0px; top: -5px;" ng-click="gotoSelected()" ng-show="isDetailPage">
                    	<i class="fa fa-long-arrow-left"></i>
                    </button>
                </div>
                <div class="panel-body" style="padding: 3px;">
                
                	<div class="panel panel-info" style="margin: 0;">
						<div class="panel-heading" nv-file-drop="" uploader="uploader">		
							<table class="table">
								<thead>
									<tr>
										<th width="50%">Name</th>
										<th ng-show="uploader.isHTML5">Size</th>
										<th ng-show="uploader.isHTML5">Progress</th>
										<th>Status</th>
										<th>Actions</th>
									</tr>
								</thead>
								<tbody>
									<tr ng-repeat="item in uploader.queue">
										<td><strong>{{ item.file.name }}</strong></td>
										<td ng-show="uploader.isHTML5" nowrap>{{
											item.file.size/1024/1024|number:2 }} MB</td>
										<td ng-show="uploader.isHTML5">
											<div class="progress" style="margin-bottom: 0;">
												<div class="progress-bar" role="progressbar"
													ng-style="{ 'width': item.progress + '%' }"></div>
											</div>
										</td>
										<td class="text-center"><span ng-show="item.isUploading"><i
												class="fa fa-spinner fa-spin fa-fw"></i></span> <span
											ng-show="item.isSuccess"><i
												class="glyphicon glyphicon-ok"></i></span> <span
											ng-show="item.isCancel"><i
												class="glyphicon glyphicon-ban-circle"></i></span> <span
											ng-show="item.isError"><i
												class="glyphicon glyphicon-remove"></i></span></td>
										<td nowrap>
											<button ng-disabled="!module" type="button" class="btn btn-success btn-xs"
												ng-click="upload(item)"
												ng-disabled="item.isReady || item.isUploading || item.isSuccess">
												<span class="glyphicon glyphicon-upload"></span> Upload
											</button> <!-- <button type="button" class="btn btn-warning btn-xs" ng-click="item.cancel()" ng-disabled="!item.isUploading">
					                                      <span class="glyphicon glyphicon-ban-circle"></span> Cancel
					                                  </button> -->
											<button type="button" class="btn btn-danger btn-xs"
												ng-click="item.remove()">
												<span class="glyphicon glyphicon-trash"></span> Remove
											</button>
										</td>
									</tr>
								</tbody>
							</table>
							<div>
								<div>
									Queue progress:
									<div class="progress" style="">
										<div class="progress-bar" role="progressbar"
											ng-style="{ 'width': uploader.progress + '%' }"></div>
									</div>
								</div>
								<div class="row">
									<!-- <div class="col-lg-6"></div>
									<div class="col-lg-6">
										<input type="file" class="form-control pull-left"
											style="width: 300px;" nv-file-select="" uploader="uploader" />
									</div> -->
									
									<div class="col-lg-12">
						            	<div class="form-inline pull-right">
							            	<div class="form-group input-group">
											  	<span class="input-group-addon">Module</span>
											  	<select name="splitter" class="form-control" ng-model="module" ng-options="option.code as option.name for option in modules">
											  		<option value="">--Please Select--</option>
											  	</select>
									  		</div>
						            		<input type="file" class="form-control" nv-file-select="" uploader="uploader" />	  
									  	</div>
						            </div>
						            
								</div>
							</div>
						
						</div>
					
					<div class="alert alert-info form-group input-group" style="padding-top: 3px; padding-bottom: 3px; margin: 3px;">
							<span class="input-group-addon" style="border: 0px; background: none; color: #337AB7;"> 
								{{'pagination.page' | translate}}: {{formData.currentPage}} {{'pagination.of' | translate}} {{numPages}} ({{'pagination.total' | translate}} {{ totalItems }} {{'pagination.items' | translate}}) 
							</span>
							<pagination ng-change="pageChanged()" total-items="totalItems"
								first-text="{{'pagination.first' | translate}}"
								previous-text="{{'pagination.previous' | translate}}"
								next-text="{{'pagination.next' | translate}}"
								last-text="{{'pagination.last' | translate}}"
								ng-model="formData.currentPage"
								items-per-page="formData.itemsPerPage" max-size="maxSize"
								class="pagination-sm pull-right" boundary-links="true"
								rotate="false" num-pages="numPages" style="margin: auto;" />
							<span class="input-group-addon" style="padding: 0px 5px 0px 3px; border: 0px; background: none; color: #337AB7;">
								<select style="height: 28px;" ng-options="option for option in [5,10,20,30,40,50,100] track by option"
										ng-model="formData.itemsPerPage" ng-change="changeItemPerPage()"></select>&nbsp;{{'pagination.per_page' | translate}}
							</span>
						</div>
					</div>
					
					<div class="table-responsive">
						<table class="table table-striped table-hover" style="margin: 0;">
							<thead>
								<tr style="color: #337AB7;">
									<th width="3%">#</th>
									<th width="15%">File Name</th>
									<th width="10%">Module</th>
									<th>Command</th>
									<th width="10%">File Size(MB)</th>
									<th width="10%">Upload Date</th>
									<th width="15%"></th>
								</tr>
							<thead>
							<tbody>
								<tr ng-repeat="data in datas track by $index" style="color: #337AB7;">
									<td style="white-space: nowrap">{{ $index + 1 + ((formData.currentPage - 1) * formData.itemsPerPage) }}</td>
									<td style="white-space: nowrap" title="{{ data.fileName }}">
										{{ data.fileName | limitTo: 20 }} {{data.fileName < 20 ? '' : '...'}}
									</td>
									<td>{{ data.module }}</td>
									<td style="white-space: nowrap">
										<a href="#" e-class="form-control" buttons="no" onaftersave="updateCommand(data)" editable-text="data.command" e-style="width: 100%;"> 
											{{ data.command || 'empty'}} 
										</a>
									</td>
									
									<td style="white-space: nowrap">{{ data.fileSize }}</td>
									<td style="white-space: nowrap">{{ data.createdDateTime | date:gb_dateTimeFormat }}</td>
									<td style="white-space: nowrap; text-align: right;">
										<i title="Status" class="fa" ng-class="{'fa-check-circle': data.enabled, 'fa-minus-circle': !data.enabled, 'user-action-icon-primary': data.enabled, 'user-action-icon-danger': !data.enabled}" ng-click="updateEnabled(data)"></i>&emsp;
										<i title="Delete" class="fa fa-times user-action-icon-danger" ng-click="deleteItem(data.id)"></i>&emsp; 
										<i title="Download" class="fa fa-download user-action-icon-primary" ng-click="download(data.id)"></i>&emsp;
										<i title="Deploy" class="fa fa-plane user-action-icon-primary" ng-click="deploy(data.id)"></i>&emsp;
										<i title="Stop" class="fa fa-stop user-action-icon-primary" ng-click="stop(data.id)"></i>&emsp;
										<i title="Start/Restart" class="fa fa-play-circle-o user-action-icon-primary" ng-click="start(data.id)"></i>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
					
                </div>
                <div class="panel-footer"></div>
            </div>
        </div>
    </div>
</div>